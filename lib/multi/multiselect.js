"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.multiselect = multiselect;
function multiselect(partition, index) {

	/**
  * As long as partition and index are O(n) multiselect is O( n log n )
  * on expectation.
  */

	var select = function select(compare, a, ai, aj, b, bi, bj) {

		if (aj - ai < 2 || bj - bi === 0) {
			return;
		}

		var p = partition(compare, a, ai, aj);
		var q = index(b, bi, bj, p);

		select(compare, a, ai, p, b, bi, q[1]);
		select(compare, a, p + 1, aj, b, q[0] + q[1], bj);
	};

	return select;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tdWx0aS9tdWx0aXNlbGVjdC5qcyJdLCJuYW1lcyI6WyJtdWx0aXNlbGVjdCIsInBhcnRpdGlvbiIsImluZGV4Iiwic2VsZWN0IiwiY29tcGFyZSIsImEiLCJhaSIsImFqIiwiYiIsImJpIiwiYmoiLCJwIiwicSJdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFFZ0JBLFcsR0FBQUEsVztBQUFULFNBQVNBLFdBQVQsQ0FBdUJDLFNBQXZCLEVBQWtDQyxLQUFsQyxFQUEwQzs7QUFFaEQ7Ozs7O0FBS0EsS0FBTUMsU0FBUyxTQUFUQSxNQUFTLENBQVdDLE9BQVgsRUFBb0JDLENBQXBCLEVBQXVCQyxFQUF2QixFQUEyQkMsRUFBM0IsRUFBK0JDLENBQS9CLEVBQWtDQyxFQUFsQyxFQUFzQ0MsRUFBdEMsRUFBMkM7O0FBRXpELE1BQUtILEtBQUtELEVBQUwsR0FBVSxDQUFWLElBQWVJLEtBQUtELEVBQUwsS0FBWSxDQUFoQyxFQUFvQztBQUNuQztBQUNBOztBQUVELE1BQU1FLElBQUlWLFVBQVdHLE9BQVgsRUFBb0JDLENBQXBCLEVBQXVCQyxFQUF2QixFQUEyQkMsRUFBM0IsQ0FBVjtBQUNBLE1BQU1LLElBQUlWLE1BQU9NLENBQVAsRUFBVUMsRUFBVixFQUFjQyxFQUFkLEVBQWtCQyxDQUFsQixDQUFWOztBQUVBUixTQUFRQyxPQUFSLEVBQWlCQyxDQUFqQixFQUF1QkMsRUFBdkIsRUFBNEJLLENBQTVCLEVBQWdDSCxDQUFoQyxFQUE0Q0MsRUFBNUMsRUFBZ0RHLEVBQUUsQ0FBRixDQUFoRDtBQUNBVCxTQUFRQyxPQUFSLEVBQWlCQyxDQUFqQixFQUFvQk0sSUFBSSxDQUF4QixFQUEyQkosRUFBM0IsRUFBZ0NDLENBQWhDLEVBQW1DSSxFQUFFLENBQUYsSUFBT0EsRUFBRSxDQUFGLENBQTFDLEVBQWtERixFQUFsRDtBQUNBLEVBWEQ7O0FBYUEsUUFBT1AsTUFBUDtBQUVBIiwiZmlsZSI6Im11bHRpc2VsZWN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXNlbGVjdCAoIHBhcnRpdGlvbiwgaW5kZXggKSB7XG5cblx0LyoqXG5cdCAqIEFzIGxvbmcgYXMgcGFydGl0aW9uIGFuZCBpbmRleCBhcmUgTyhuKSBtdWx0aXNlbGVjdCBpcyBPKCBuIGxvZyBuIClcblx0ICogb24gZXhwZWN0YXRpb24uXG5cdCAqL1xuXG5cdGNvbnN0IHNlbGVjdCA9IGZ1bmN0aW9uICggY29tcGFyZSwgYSwgYWksIGFqLCBiLCBiaSwgYmogKSB7XG5cblx0XHRpZiAoIGFqIC0gYWkgPCAyIHx8IGJqIC0gYmkgPT09IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgcCA9IHBhcnRpdGlvbiggY29tcGFyZSwgYSwgYWksIGFqICk7XG5cdFx0Y29uc3QgcSA9IGluZGV4KCBiLCBiaSwgYmosIHAgKTtcblxuXHRcdHNlbGVjdCggY29tcGFyZSwgYSwgICAgYWksICBwLCAgYiwgICAgICAgICAgYmksIHFbMV0gKTtcblx0XHRzZWxlY3QoIGNvbXBhcmUsIGEsIHAgKyAxLCBhaiwgIGIsIHFbMF0gKyBxWzFdLCAgIGJqICk7XG5cdH07XG5cblx0cmV0dXJuIHNlbGVjdDtcblxufVxuIl19